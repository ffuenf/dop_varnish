language: ruby
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.1.5
- 2.2.0
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do.pem
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
after_script:
- bundle exec kitchen destroy
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: BL2B/cXx+C5d3CnN5UnhjhcEg2K0DK7gfWMUTX4UGTp6U39VQWIQGkGN78y4Yemejfr1MjeLEH6nba84TnrHmZ9ksQSw1sh1v4Tn24tN85RGsr373KmFXibFXFOO62TgkyZhVsTjnhsCpyNCcBEY89RqSSwRtYJsdwBvhzVhm7k=
  - secure: iOwN3j36FAB7KZPLkBJqAFuvHE/VBbTlYaIjXvC4yzWbcaW1GY1atszZUhoZMkx7qiztV1elgncoMVI4dIC4OXkFOVds4DSA3TPpfV9LaMfealVB8tCO9AiKS8W5WgpJpsweAQQ+hHMBMNEobXg1jdRsGndw4yibJApk2m0YVr0=
  - secure: ZyT2GVwerO0dzmlVZR/U8edCLyDWUwCXyrN3WNR97yDBZyQPn2C3eHGKqZwL2N0hMPJeObDZm+TOOP/xpmX4JssrOyiN/81IO2Vy0npGC4hGXC3wX3QnI82B8je6pxbXaUz7FiaclhnWhUEO2izoL1Q+Y6YD6csK844XikG/5HY=
  - secure: FFfUxDS0vmtgg+aByyj40HgxpEzrzRX8AgldH8ofZ8Rrz/mXYz1txu2baZ3PFwEsp6EOVQc78DsXjb0wtOzfkl7nfdd3yYHuDzXGDikTkuoZA9Qr6ZcpHvfUcNrN6py8LkPCgv16Xx8wtutYpXb9a9Y7kg0R17alxZSyD/9MGYM=
  - secure: gksyKo/9Y1JazWBotUSv/8z9/AeM1sU+95xuwU8hSdv6xOKYO6DVt0WQEWQSiI9ABonqHHbYs6GerkotL9IBiijib8A69ek736Dsa9MGILTLE+iHr6qPDdQ4RYhU034AZyXyDcpsGmxZv0ZPL9ErzU6tP5oMO+G+uhaDyCdJ518=
  - secure: mEqbFWNRfVCJ9QxppdwqnNMC1tvemJt1tw/ucGlwR2iUip9dRUvwpnP3QPcFatxTN5UdPzBDEBdu4rylXCtID/qF9gQV0w5m6VRVAIO1/4WOw+UD4y2XwodhGB4ItEINvu2FjHx3M9U5qJRnFyi8P6KUrC6Rk2pSHmo7xHySKMk=
  - secure: K6Q8dpZLF/unIVvBMYqJBuE9+BLSCIKw6MDH9jda8kNcB9XGyqDLWk//nPMV2655sFIjiw4bGr/TGPyAy06YcShlWwNQ/7/oeUUiXqMzNKrfSyof2UJTrfLkByu26lhN60Oa0P5jLcPGofTfq+A9d09TQe1C1OaBoMLuJj45EOE=
  - secure: hqQFRf/nzy11GZrPZDCo0oEDrzSUL602FAx2uDXPez/F6foPEsjmRFZ3LertqpRYthODZGfDD+SVF6SHFYusraa8+V4NjDxj8Sa78+o0fPTvNMjEm999JswLF6kZvrOANdgdYU91OT/oNCkfKFdjAYuTwcLbi65SB4uTpvfKK7E=
  - secure: bKca8lvRvf1PVcJLJWqvL2LF/hxRZDUZI03XH9bHT0AZDCe58Sn9B7RRaQCUXnRK1/xVMcPpfJf+GjyzrIm4HBBJvNwN/cFM1xYzmUYV65fJtagQpgEnc7XnvV9e69wVoCTpm1cpdkLac3yHECJQZLLowzxdrw6hBs5SLEsiZVg=
  - secure: J0kUsMPiZwrJnpRellJyrlVZZc0CwerKFZMn5GDNW9a/VLj/v0a8BKHk1bvdu7skDex3RL9s91inyzPJjZL6Ht/rJNZwoOLwxIxlAzf3Wg/npEyVxFd8VFzw9ILIEII76wzu4w0RejrS+A9c9moAHl1CL4v/gKS4WIoWSJfMB00=
  - secure: F4XGeI7uyb4/afYb3LqgAGk6qFZJ1HeXYuDUxSrdCGvW4JPc9l8j9kZMvIbWR94NpiY6DYvXgaJhzuHLfY8DkhqgU92JTBvkIoyC4QE+tSjei9QUIcOFOzZMpLIsTBBCIm71K7Bw+85m792C1Fv/txqoYLjyzYZO5rz7LEdrwRo=
  - secure: Cb72MJWF/tyOXzCEMpe1aWgYjWNp6/vPfiNxgFVDxg0oYGH8qLKy6aflFqYutYhtnka61QlPv1mMpnQL6kWarrI/n1XKAXm33qzVKaxP00rQVFmdat/DonafxR4qV/SnVLDU9yBbOhSNzRlGP6sTcY4GcxdbfbnoqiO7aS70eIs=
  - secure: VZbJgD3pSQUrv9i1Bu7KMWbOyjbBy+2byVPs0lOmYlnCJKC71t6TN2uM/FvupjdlAk0+vvc6ggRzN8Ou0yPTV0aTOSF1nkelYTNGLwDVIvp064e9JkTQgepT5vhmqYuF2/DWz7nWUiBExF/CGNKxiKKyP/is8eC6bg/LyVQL124=
  - secure: mtCI/4RwyXkj4iYbq2BSFFOp1wdkhQoS1KueVU9QlgMKF7C3K1iOm7njhiPhj1351v4gD/RJSGex6sIw5fs4tb8kfsg2RXU55SYwhny9bHj4uY/gHsY9cUU5F4Bgdeboj935H9AGmUpKo+iNzi/zrYoy1+bDwAkcHpJxd1kSjY0=
  - secure: neDuj/1VRmZKvT0UB7++D44Wuc8lCUV1/Neo497eum6Sx8McQLrlmG/BM5dGQMOEFwNhNLT0VVcZ6KEDkZs1CVTv8pEJq+ZCbo79t6MQgmygi6/PfbT7qJxab9kJI9xCGyn5v9MUbX8y0HRva/MjSo68fQkvu08IfB/F2ouUCP0=
  - secure: CxckRK9E4ySQ7JbbK2lMEC+27kzFGSG5azEO31CkxF4myTfD5mUFBXmJCRXlMEQvG1LUAg5vviuX3q6WI/HjesfewKQrvGosTR1HqrN1L313Gn4HgOagUvle2gXPVdv1Xr5eMnWN4JGXcVXLfYmbsADxiGA/Vp48r7LtDN+/+NQ=
  - secure: Cph1K/UPgluxzcKF6AyrPGAVjwhdo1+C4Ak8LjJgJvGpvCn6tr2MK31TMzgJfw53PqjSiuXBfdt34QXe4hHOAtf0bL43Xd4ShCsMHnXIXoWW4U3mXJMwlreq50DFBcTTDxlAiY1ZBzqeWgHazYilzTLfFXqHFii6qSrgW/u6g6s=
  - secure: MSP2S4RYJep5UZH+mplyuA5xh1ow7GwU1MFyBF8DB2XkTpQit04yHjq9OjBUes353ARbsn3E1/8I5Lzhf5WjsHYcCGl5QmKj4Z7agu6ZdUNHL9OvVHwEyV2B/gUv/NVwf3CQwbbje/LLJ/wHJ0aw9/LJBg/GLx4kwiULcXavMmA=
  - secure: Ek8zpowoIefIqqNetdC6S+aLTmJxPYJjjKO12V3OT9+WCDvlciXctMtLrzv8CcS+9Wxzf+UfFLN+j8DqAmEy6zZImprrY8of5nCXslR9EtB89wJOxWwfhFsNicz1IbXgMkKBZY0XP5QzqFqZYVeipVRcZcBOq9n9uV2c+DWuEV8=
  - secure: dPu/jtcAX62rmi1gSIteiLLzyjYdEZvV2AmU+WTm5cN1fxP94Ak9sXKE9zcOymdfY4okFOoiDzmkZJ7Uwhx8UMK4pXKfglXIOqB1ZVWoV/eP2ncw8Wm97+8S7GAOaKXmpm/lNalCxEWJWX7aBK3ccEh2aCL6eNX1JtcLDNsdPk4=
  - secure: P4rmge8iZhw/jifevOgpZEo0WykJhEjtPQKBWA6cQPtRe5doAZXsrUixuyD/Bl8h7MoJPzbkYTg3yauKeFxVO1qDB+Iz7ZVNQFlA42Bdxj7XdP7NlT3irYv3SglB1R9Kv2b66frWGCbVUxgotopd3MvWbZsLBB533E4xwPKa5GQ=
  - secure: StMFm+RqfmeL99a3Cn8SqDAWMaUTYIH3QlNVVLZbl0qBFk+TQFrxc03uXGLIq26HVBYOwlKwgDteE3KKmS5hLVOJoYwR1ryP+za68B9ovQ0JSDNE7TRDunUL04snHRc+xfeTqv1XKTgslZNYNwd2QpShIb25u1dPOnFRdu5nln4=
  - secure: h2vi0H76A1b9Px59HRcToZPGwHhKqd56vCsa1gor7kyBhRguKrfYPZ9nz5GT8YUewOKmm+FEpqjXIYooYiuEkdXoURuScL3s/5sVlJjmNre8hafpnxYTbpFx+/fqoDkvUJMd2qdkWMjbG3jJJqP3/Hgfe87ZtNI4BK8dGqyHSy8=
  - secure: iVucsxBDOfPklp0UFyKda31k9NwHmAKvzBJcl/Ux9b0dMuxVLNs/yQhLWkEWDd02FJCEq0CsTnHZfb9E1czDFngFDlfYWdgypNfR00avGf3FIfLIEMeJYcuK5v8air0/KVRyJigvVnURy8bG6mWD0Oet7D4A/pB1/C52rvAvym4=
  - secure: Rdd2Lp+UFzSdCXYOYbjJVsItpZSZtOve8YfxSSm01BxcYfdGNUeBuqdtfHP4GtRRjjUgdUZAkGKDUvqLnzWOsLnO+WbnoqxzW16ChlNQa0UhBGmjYqtOWhwxgkEMjcIlmJ9WljmIZj9bTG8hDpyg0Hxun7C1jGPoSA0QbCPyayA=
  - secure: PVnAzgLVgWOztBSqji16JqCEgozVtP1e3miPLQ4OrGpIoXEFyHifW5YKeNFHWCiwHznwxOzLanYZnMGAls/5Oj1/pdaaYwMabmF2FpfzLOrtf2ll4uUiycEVmO/UMIMJOL56hQsgQ3O5njtvb/BfNYyo5Gojcz0jvmutDVimMw4=
  - secure: NipLpTrWaPp9VzXj7bffJ1662Hpm/h1o3mR8Wre21lt5gjip2W64YL0og7rEzoa4A/g1D0H6DyBqVFJctOEQdCQpIXqOnhAbnxYQZ6136pidnN0e5dQZNoQeizJ3JA1QUyUt2cAg0HewzP3jmZmeEua0VhIg6zQ3M9xLxoPl5Fo=
  - secure: mBCEElbPKXVu2TjgShxL9oI3UES9DO8odBRlURwpuAsc/kE76Re+0V5j4P85hmT8mXaoipTy75CjXaK/E7nVqW8rEXuIwkZBmR5hguYgUH8PJY+KebMMpmpdTzvE4vYzVifJtj/G1UvI8ddYBDxfF6LMph9/i8NyRMIcj5loWsQ=
  - secure: WCgzLxXq+VMlHCY42T5x1F0Yy7EV0Q3tUBxgKQ3z1uCWToU9tpJbDYQkYK1SOP95wgKKVE8dvipPcbunZ56oruvolhiIKjuqk0OYKdja0QKmlwu7KltfobaSbPeJQ/E137lXaEazKHmtA40NuS/4ANvQ9Q/CV+lBSLdVgJNADPc=
  - secure: Tc5R0QG8O3jbD2TMmKieFLTZYWYMm3Hsm/eIMlZlgvgrCMbze5AmMezqgroBZxLOXP4hFS8S/MN1BsRtPOHe1iQBboXg5xhSLUWHaof3cipiXdwWjzB7rrsL789zzXJLXJYbBvCbb1+qddNfT5e7UKdGKqP8S2+raRc5tnu69ss=
  - secure: OnMCNc13q/TRCMaIytHAXfW01BSPj4UVumxIp3ffSf0KGNVcPwHfWW4GIFDc8Gp37LyVQmYRFFYpEv3HScEcXQo20EMUKwhLTxofAkfxPeR5IPMvNsVBOUK3LlJxHWIsFPjMVNpuBFbW6jjPs7WnkKgLTPBvGOVemVFqJzAw9xI=
  - secure: FN8HTlKvSFxrMc9TGrBSEQGUR4aD1NrNf3PfIk02UffDIvadgOmo1lde9aT1pYwqsLKqYol8g95k76NYGh1i7DIhApNB+QwvwLAm+//IXTRdT0D1NlXbswmanxnhFafaXjxkFFcMB2lSGFplA/tK5hnNM4rBi5kk8dva4QdS5mA=
  - secure: mQz8P5LnYrWv6rEEbKOEERD2tf15bLT1X0qwubMt3zQh4aWijPxk8PZor2RUUQgvTZgQkMIuluI+zuoGxHVOYkcJ2fH/hcXsKDuLBKXvBU0SBgW46OQ47OTxmYNgAYnZT2IjGAcS25HtYSPebih+9Mk5PsuvEFhQPI4oCx8FQNg=
matrix:
- KITCHEN_INSTANCE='default-debian-7-0-x64'
- KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: P43+OOgSGOBK0a8okq/nEj6izSEoXqO083OieKWUcvKxRGflCb0zLKuFHJtsSTdOu39q3ALqiy9rucgaBItLNlxkya0SB/0AQybQiAaifndYbn2q0KEKaqWrFurkflNWsWlkq4p+N9fVxj6sn3SSqIfxZrLB9pCVsX2X2F+Z+IU=
