language: ruby
sudo: false
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do.pem
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: MdQHznuzsrVXHasrfmjuTT3BuR8DUYxQRl+XsYDOW4I5r87Up200O29nkhsyAdtaSGn/MyoFgL+pMZ9UOfGM5M+zCgzF7NXzxEwyOEWXAr6UQi5/FVTmTwsGl7+VQrCxKMFiTk/A0JNaQh3/IywGWNo2Xc+UofiRidtMOswy3VA=
  - secure: SJJfcS9hAWWJqIfWq7qVBPnnSRSBLb5gYejv5IlrnHJu5Caqc7CJGfYujn0COUqgOsdYnIzv+mBkXwvOtzd/zXC+mAOJQNgALpXp9RhK/ORDU0aEUaf5e1uHO0fzRnRReAp018mrEJDKFKquvU4cGvv6QIK/1qMuOvxTEnEudr8=
  - secure: k3GtbOsrS68ITuAiVO4MmyNPcLh1Uc8gPRyqvBQ6A18QGKlIu5mjE06maG3zUGsq8XI/mA18TgQSVGhJMsX1dlhYkPF4peTXUVjqmJs/vqcGvgICPFlhpqqM7nDempiYIcUwktOJH2ZDJmla+J0FbCHJmh8NuiMsdIBVb9uRv7k=
  - secure: cjlUfPK4A+LMnLAZ84fNlOk2V6HJ+V0r7+P7D9cRZ+FlP+XZtJf+NmnW0o4nz1KpZWBeDcVl2Ih/uaQxLqic83IkEtzGFnJfp3lHbwNvXTf9Wy04u68xatPeVzd7VEB2yAEM/7eR4KV0rY3DRqFPLdHNzJapMa7iJA0eOMgrPhU=
  - secure: DO3bm9EfTatCPCd7zrME+Z8kGjP81kRt8eCvLuRnQC2sR8o4gJbwNh/jyPTIL27HjOO5P5ANg8gt4JEbV29vLOkclCgnTAoPVinUub3ccUJ9Om9O1OMeI94gf++bGto8bjDtYeCHoJtyLzEgcCf2JNf7TohIC6l+/WTF+OPPr8o=
  - secure: JeEhiDulRwNswLSXo1aRXgOWHMZfXQchO7Wgop4bwkvq2QRipIDWTJc25WUBpfJfquakEKeEgR8dt10pVQUN/wlDfsEDz8A/d4QuKwsnYNAE95690E58k+fFSJpnyL/ALscsmc/O6qmqnfeBD19Zi3PUb6EtjD7+lgdrrUgngCI=
  - secure: fLGqq0aHUhlz7B0FCWQPsoFlYkrafR8SLnOvaOuGsJdLixCANAUfRa9mdSsClwq+Qd3DGcMoKV6dwC/sbm5iNU5E/GwCAh5zE0rfhbmHJFVS2uk7OegBXiXPjhx6StpCSWYa1Z8MvRfRwmxXccNEulylzSKLkzv4oJyuKPHRFTM=
  - secure: gGO7+pNcaYMRHjFvduipjBMFC6Mj+lUEF/93dTpTItPZ+EF1m2SS+W/uXQH+oEJ/9JF2e2HfWt9/ZGhW5ntZK1qtcmLxBa2DNZysmeqYJ4uYW9iSYOkylmv0u1PU2IYPrsBKTF29qLxEeXaNupZ9BJ6PymzJQAyQz86vJpVUq+s=
  - secure: ggH/nxuh3v0aRUbDeehNvsWwrpuUN8vgNhxzRkOTIqMuKhDSrL3XamWX76Dtf0B8m4PE82bZRmWHGfQ7RPtbAZ1zA/6yrXxRTFpsRCmv8GudmwrM/nQ0xXj8LEq3hsEx8o+T1isjvvexVkUVYeTEnuIfa0ec/Givn8NTl1gyNs4=
  - secure: DIeM53xlvMzQFay3sQ5B81Z/+BhOALeNinH/4IJiAghChPvpeQlFIIzciDL9g42pLxljRSQMnuYX3ZlbEf4nvwB64RN8UiarfqPXHbMwd7dj6+xv58rqn+qdzHJxPtwgVU8d0DMBL11+LUeNUJQrRQqLHdfy/u+vdanpwDFB7ho=
  - secure: TdZrVi45XybhvbIPXzDki2tvUpRI8FgfyUkvXsGOHps55mX6+bPleFvGTovhEWfro/iinHYrPeTR10vrVxWRsU9y5LhtQE/xGnDvYHeHBNOHjdGfYUo6bzEXo72Ued9cTqIVP8lh/s0DOSarPB/zn7SmjRYbyFns29V7MKaSfig=
  - secure: B7VU0MBPQcxJimdFPIX3QuFA4ns/cg8feVg1clbbjtpT7t4yJGJxYbZIMXXz/CXNSkyHYQpZhx9EXifxku1OJOqcZ4AGRBMcnIO8TKepJ0kUFSh+NcKyK/P5zXAgBTAXxeHmk+v+nk204nDdMTuF1RlsuPoKpdcU+m2tRDtU+aQ=
  - secure: aa2rf8lRq+27Fr80lx8rvk7CHkjf0F9aWKniLR4nB6hZbq3I4Y5DxgCEFLQTN0ix5xXdr7ykyRRQFfNHmLMfUPDgs5oSxsrus2V7TnXZRrOog1ERcy2xr4UrNh10AhFxlYjqkhoXyTTKIsSn3/7Xv5bjKKAd9H/d3maNy0DCxUE=
  - secure: gJZEIY3VGNfBW/juSGUbSB+Hx+Dio6dkf4KhvuMZbNjZK/zl9DmQA4K++H01pD6JgIb2Y6ej9LbPebw/JGK5fm+UrH0bRAdc+1ihxooEvj2AHupWCcQQg+CXmUcr+/S+FzT334er6wLnM0+gn2JUhToys4Bi3qMuQQQ6O01evnc=
  - secure: BCoFJyIZX3/D5aERiSdygU7GwP0bNIPa57c0C0RMKGPTpX+PY+NL8zM82uG0mhxR3rS56z5dLJpJ6tI6btxqDCe+a4Sx1h9aBxW6DLqiH2I2eISXu1ZkIRdbveQbu1xjzwpSAHVd2uNnPMEkkHzI8nXMadWlgd/WQppTjd87Lg8=
  - secure: PZDK7TQZldZYMFzfvExR8Nr2Q6d9JPNybPQR5qN072H1iC10d62L+Or8O5A59AtBbR2NizSrbUbwMzTcnUUGcNwVnfBoKy+kgy1yg7bBSIweQ63+c4uIEjiP6cDnlaSheIGVf72gjSVbML42n4MkRux0pxFQTq5GijGsploQ5M0=
  - secure: KG0QH0Y7dxViyLbQG3mlVVu75NYKFVv/08dc3N8q2o+H4SIRoiL+A3xMig1p/owagNvEZsa7YSFWs+yex1kBTSDLqA6OAbDUv6aCYixA8S7RJ/bBzfGpwP88AfriixeBhpWFy48XKxTPQBLwhoE888MbY0G0byLc8EZELkH5ehQ=
  - secure: XC4EclkEuHovjS5lF/byzxFZPZCXeqb7iGIJ1VFfObCphn502FAf8O2p83RdsMdpA1SRYDvVMlsBnyxo5XpCZOaE1lllEbfISE58qy0qy+oirNB255I+IzUODEpX/GEtpoT+QjwIG4unp/9Fl4SlrzGt0K0tUTSlXoKEG1nFtE8=
  - secure: E87ofPKnfvUzemEalpq05w0hsN96yF3rT9Dxz6kARF+O2aICodo/jkOgeJXYhpszjOkZfLvyfkUS228DA0DIjN9BA/utJclvMlwLETO2OFkofHoc1Cd5nLf+W5UtlfEdUKlauuAub5Dr9ILLPnqxTNyxEuehBAmFqoy5Y8DVsLE=
  - secure: de7lx7JXs8gr6xLvWtZ9XwAlFyw7t+0tNvCmW7/IDYEp90LxTKPvPa5Ybjzv7vsByxcMsSFiskTig/JNuxfr0t1g8WqyamIasLL9pinm849m8YNu518q9rX0mBtJLU3bYmJ8C1bWMms1zmtDWBgExmltPNN8/Kfd5woExccFohc=
  - secure: f0UuVj4jJTeYwm2XIBG15mogD6zFWeCkPZ166X2ohqd5p9A285Pceo8Fw3xSSAMhbeSBFjTtOjpUDEfBrH/9q+zk7Yo6dlul009oD4tbLnmeXfjZLgpNdzRriGNhT+w+t9MRragLs3DpVdli39wCV/gogqghx2+lulWiHtIFZaw=
  - secure: k4uz2x6vjptqCgjgOpcM12PEjau97RnNkJI8Uv3jwl5ng9/HOXpnuiP1zdcxBHO5cavCZYIqmW6kJA6T3K2MVATHtr7VLLN0cbcE9ialx6BCQ520+VhXNktMktaPHuDXOJZu8FZkuzXBSmng39UxJoUm6mrDpzBMimYvVhWY9kE=
  - secure: IX7w76HEf4/Q/7FMrYCq3n98KHjKJjvSt/6sOk0zIrzfg3W4SIywObZelsFho8FOzgV8ghX39ML75S27SX0i/TeKeqNkVE6RZFCEPrDMn8n+RDVcxaslL2i+bZvduGW/rmPM67zPivrNKLLV1B/c9aIiH94FahB/Xa9/Z26dc+c=
  - secure: MIbPjUEhyWGuoFmw4qLm3KR0SKi/tK1jUE9mBfF8WZ1WmFMSDfrWMdc2OxQWEoDS7OPA6PrcwTW9rfULV0X1F7AqgJ37/NA3Rxt7iMymcVcdg9iosJO896bQD2F7telUSFkZ59d5qZyDfqZx2zmrZjMwsJ5I1BrreYI4GOqvea8=
  - secure: eUrHL1PIgvbHKlxdGn1agw1HgJgd7WFBX8BZwsF4Z4HDSBh+S1CJ9edwh30hAuaXVSkxRKENY4K5AkHsbimS7CbeaL9u29Fi2wjCY+c6rXUuCXyF2ksb/6zIC7IqNypvNu6YKHyb4MctQMTnrXNnwuZOWKSTf5pc7xhkjsYJ8nc=
  - secure: DKzuWv5/LD2dQOaAC1PPLK73YesDYwyjhwKOBCVXTPbAFVrNp22raEoVdTuCdbEPDnN0LZXAPMoFKI5eiQVx2xBL8TYIsIC4qed7gzNNzCy+lX338nHNGaYKHJrAX+PUwvpGyn5kDtcPUuHNyZOm9x/++d1AelGjxQsV+KZcp2A=
  - secure: J1629pSCB9U5NALRkfS7dZd15CN265aDs7m+qqnKcqgZ561+b/98YcK7Zf2MyeVoJpZhFzkwoTvqJz8rJW2vU3UwJVZqImxaCwVJyxierSUcWfGg81it0IVM43CKp7WQ84vnQcbsf7yW7AWlEKEkRwxA42lq+fe6B/Ni1Pll7Qg=
  - secure: BVp30K7uBPcYdY7RMlmzHY0YRnDYYxKy6XMSWFaPeyQWMGGRvNYizH83ZGO6pjclEvpt5Uf7B43N+6NnmuVjyZ1yN+6EqYrNeTx0WlwEBpCqzhAQUsehewAUgVInh8/u31VJ65htpi31vb51ZQgIx4Nc/7YJoKudBFolBnybf34=
  - secure: RRbWsUw5Fyy/pjH//lKImXsLqgTCLinwVEGhDz4i67XLPDBdNf2HtFgjvGG90CXWX+SpuTAPm4JbqEPqQn6TKq0Tqclz1WmD0oxwXfvmDonSj7Wr8VBrhzDwQRFw4/eLSX7YmzLkzxgSD3B8tL1kaJHK5FkMgFTtCqUr3jk85sQ=
  - secure: fgDF+rIyd/fvpe/iIHtUlMA4B+fG6bJALgH3FZ6vbf6MsSbnOKUQIo0Wt63Ux+rRx4nYgGX/jKMCnHHnuqO5gFYFcWNMW2DIAKaW+OviJ2VnY6ZkoKvm6u960MXl+M43nHKkghCsTEinafvcNmPIhIJnYheqJuZPNPGgECfEOZc=
  - secure: LZyvo3r/t/sARRAb5zM26Fe3qgaKTKEOpUSj0Ou7h7dUWggEFPR688t1su7mn18xmkcXhLja/D/0bX9RHIyHty6WOyPJGA5CRtMKHzlI0FqH+rhK3df60darZCFTQqX7hapVgEnQLC4mlP1wgG1YMzFtQMIeqgxNhJ2QNTJ/ojc=
  - secure: mBJuRR6Alqno/3xKMfMekv6YqF6QKVvVNEWvWbGIvfm7TIRQhrxpX+7Pp+GDkXOU3iHybpM5nhSDgpscGvh2+YgW7unhV+lW69XlZVVvG5GqgP0aOAOKZ/rdryZYZNWE7pD1smTWtb9FdmB4FvSXdUBJzXNcLztpdcdJHwc9orw=
  - secure: YMnxge5Lq01U4jcNHjCi6bwMkHiK5B5IlNPyj05NcNnaPXXq6J0c4S8mFnH9ttBzHga9YR7xDYQLi4x0idL/z35P2eGhdU77QSUOKUYCXsLTi5SSG8K2Zw8xllRE5tHw7Sy3y2Hkgnh7bUc7sXvnLCcsDdczWTK8D7OBXiG0zRc=
matrix:
- KITCHEN_INSTANCE='default-debian-7-0-x64'
- KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: VL1jLIuDjb5OUWkRT25SvPcQSmkPmKImYB/UXQfnFnAXYK5+4JuCUMHXAvYM87w8hltVdAtlHb3QCGLZjun6bJneFYWpVeev5YCB9CBLFD6CYW/ok9fgS0y+BVSN26j/pj+T+FDOiySdRvNvnh8hEhL2NshqEd5RzaMaILpw1Is=
