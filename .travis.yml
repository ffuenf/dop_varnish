language: ruby
sudo: false
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_do.pem
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: T1YNeI/f0DnlTwVYfUGIC83nsGVkGLbhaTVS/Ljv9l56+0cipBdfc9Ctd9tmP54MPS0E9O5ZyC2ngjSKlngxCPonn5Y9F0FND3Ss6fahlBkE6ZPXDInvHau/biLRN5mRMce2j4pPsBxxqKfmXLlOECXQgiLpLiMxQfevRTFkNi8=
  - secure: mDnnBFnSun/X+is45okymGBsSxNuuecHy9B6mX4ZcqeFT5HWZZZ+Nel0n8M/Rv+pOJf35OzyQ6LC5I7EgA5jLYJ0uvD0d60WKEkNYXWoXB4kaxgv3TvIfpDWy6TZYL0FS2aApY4FOPrzVsDxpjMm4PWxGaamV6zb0VAxr0fHDRw=
  - secure: YUqK3KRG8IiIxLo/T3vIV/eedju01OEleKN5arMuwFtGTWKyNLVCq4j25UgAhbz+1PdrZEnCgsvtIztRzdl8zeWHO1BhKItU4jzpOB8ONVAQU+N9e7V7D2PmgGoTnAhQqwJmIIuUCbh4gkMZVq8eT4pYtXZAd5Pdx0WNmcypQv4=
  - secure: CF5xaOwTrxdwCjMqmzd+6BCKaMHfe+6ReocTD3W9MwyGjKVH/u6tlVV6E2m0xd7IiM9lDX+BgEDDkgnWILWFjJ+QM72Uc+LCDclpJpRwESwAr4dtdhRgkKvoAMeCXml0+gXNwj7DvsyMkIlMEjwaO9DnyGjxQhtHhGgrtOJfU08=
  - secure: EMKsVSQsZ5LxocceTdoTxxiY0iSWmZIaUrFTHrSpEheyDCbAO8+t68Zg6tYdcI9F7d2qW/fi5RgGjsc7r10W18Q9icJlGbyUaCscGNHS/hyGfgUKw+EsSMKRkr/QzQ8ruDhwrBd8ay4aZa3yRhoUAD0hnt/4IGpL8OadUVm2RmU=
  - secure: lDv+7ISHlvi8/G7QYvUWkFTRBdd9A7GtQ2Kk7R/6/XNTFUPDnvpNtGmzylepUhAm4ofjxCFxZQw0oRWiVCW6EgymNDCEOfo7xzkeDilA+7mARN4GEaVwtqVTKzo4xqAFfhtaOWnAxQ2rg3DfMI/KXYdyDr9fooIC1S2UBwNgxfg=
  - secure: nkxUSbgknqCQtBil7XqNpOKVlRE3+9Zku/k5M9SytF9m01BKLEeJQVrk/dZP/S59PFsiz6NB4p27vnUG9hce8PBwymtYKsdiieYkV6yo5W88V5HG4xo0yD9zVypOa+H02Rd7iFHi235ddI58+rvnHXz06dlT/b/1P0fbCWRYB1g=
  - secure: Hz/Gjjrlvgc3RXjBZAwAFXmsYbOW0BgEdXs3veghpWdHMgzEfbXhfYnhHPe85QJzDFUhz9qq+bT9c6vGOJXevXEooO3YbAFlgKF0jbJcVXueWsBWC4D2wd/ZTdO1D64A3p+uH8ZNaK2QTqZrAGqWISqtr4KPcbT2rHPUHn5jXVg=
  - secure: I9hWHKC9PC2gJggV41CPtRkgt77WaUb5tdVzDuVFiGlJMroWj5AmVU4u7T3htcG6XuZ3sm6jxDMxFp20FfCcVqt43kE6Fpx4G/9hLl9KgVvPIaaMForX9sNhwnp0oDBhILj1BAMP+/ke3hYIGZnbIi5eqE7Bj1XHxryjPAXyTMg=
  - secure: AdbKnt+Q6Hc6Ox8sFGB++DrJL/NPD/VgHtGnkzZhpE3pZVUi20pSUwh+QqrVQZ9+/KNGjETxX03VPHXnifCVxeQj2lhnnK78xc2ZfPuL/Hwjiu2FeccDf8M4cnkRrBdDmr+lbLsey29ksiGJyr38tWcK4BjkoBYjmsuzXvf9c10=
  - secure: bhj29H1OewUmWPQAg1yqC+qSojdo3Ls5iVsB1II2ygGUbjed9598ZY1+IaheQYsAK4Gu86ZmkJwJk+1616EIX203KAiWhQR1nvxpFsTmJCyEXwWexaw35+HMoABz/AauMRoGAjzGkMfOvxlRvsiwUQGQIW02nrEMr5CV1qc36N4=
  - secure: O4D8biB14Nv1PjOagjWlFCYotfzY4Kz7VfQXCiT8b8vMhxPo8lkmA0VHORjyrT+y5MtnXkaHek86lF6c5kMjK6G4zgIqAUtIMFCVDQkpmDt8+sWiDubSRNIjZO4h6b3oExL+fACAjS7FxrqijpxreDAPMN+hwA54n8HWXM0MQyc=
  - secure: IYfoKj8QXuWBfdfptVr8usVMakImLirznp10WcwT7CskrOxhl4VZee5Gaw2b6f6TwdQBoGrdPYs7Vxb0X20XlVThf08XpUtdpxcoijSqjwngOUEkiCsy+j+Pvbl0GxuV98Q525ac0SsHWWrPruXftnrK5mbOfKjgPREoXd3RTkc=
  - secure: MMlgE2mCDt26Uv8Jtbzq5UuVUWVGeQsA3ImoICmJDXLLmEals+WWWcNez85S3uIXbcK5Zq3DBOOp13bB/icSKW8NutEsfACCOYAXxXoBvaDHh4F7h+YOONJvajqVQ/tD9FFImjXZE0iDIRqgilXunUdXiKlBtw1DRyexirTfnW4=
  - secure: jH7tw1F16KrmiHJh45Z3HYqXoGi0giUfnxyi33cj7uPhScOhIxeNa93/6X5jOQc3bLSkynG0p5PjeGXwMXaBAaBaWwRFf+yDaJ0XGIf+EFPBQLPEwZDpEFMktI6XC06q58SE81G4e/PO2NQTi/kz0Jci1HukuArPtMX2HxwF214=
  - secure: YZm8krj5e121M90tgYfnm2IoGz86zcegTxV8IB/S/NTNI8bZg0xk9+9Gba885TgZucbRmDAAhgg1quKXzAN3KOaLn1fJKH4/ZBY8t8k+023Q87LdsGvYSf1oBFGdMcsrzLlGpU61JU7U79W2kmgD24rg7SscQVYFYq2QUs5O4J0=
  - secure: edZawSLKuX723jIi34kr4reZ55jntzeaqUTNikJ5uzoudEfjqv5zdIEOyLQ0h5BNvP9SX7HbKnZgdXLyEfF9jdVAH8mP3Q+W0WA8hRIClK0wn1oPlOjHL8XzYzbC6yJzIlY7b42Pn8yrio1h5NzH4F17DJzKxQzZnf4h6RBaAuc=
  - secure: YFR1b7ycDIriqAnoT0Cv1RM+0BhhtvI76m6ltcJb6PyL6DGSeEik00hp8IOo65Kkw46eup/hwn/4tGanpMMbOhk3zH2cNBS8k7qTM++Q8WCH4n9UBTClOwIzYRN6haI9cJotR2PiQhSZMpl1WRDgqpfqmAf/qhk90vc6y/Bs+X0=
  - secure: hD5+cECLjM79ZM49usw6IaE4e8PbfaY+EK3RiZwSjNtlKFZL/FzA7R37vTgVwdUTyfpPYab2q1utif2WJ/RacA/luS25T62mystPiuwH82IZxCk6/OcBivY4wKmDeDGEzVLA4Z2fGpkByXP5XbTjFro+XabEjxpvcjiBHifUFXw=
  - secure: ZazCKMulsT4D9AhJgKWCv9zq8lSu4R/KVehn3j0fVOYuf5oDKy/74WJUqpuBGNVmSbEdZk5/pgq4pjBSslcpD35HPG5Si3PLxDa7na5gg4WN5OqQ8dgZ+JZ70L6l1Wi54nqYMXhPtTqeeAq+F3XHKGH5/knivnfdlSXIdh7x/rw=
  - secure: fKRnxSpn5+oG3JA5X4lCrOAqEyb9SEa+Fn2NhA1oQlbiJNklqdN4YGG75FWzEiZUjZ75w9iE1Yo0PPdxhHboyI1UOJxP42tI4rginEQGoy41i3RMI1dz3e9Hzn1p5Sa6VXOgO38biiXaXlAJ2FMgwAl6tdlOwboqTpLrCA9bAhg=
  - secure: WA1fVJ17Sj7DG74PWUOcDciLF+yUizSQOHVERHUqAAJaDeJORgnF2IGw6xjkRzmRU4e9LadXFK95MP2zslFiPrHfojOHvRxerwrV3Tl86UtZnA5EefoBfveMlT4hXH8GZ+aggr97NxA6dfOXV1Txfv1pS8K/L0Vv5kAAJQDW3bo=
  - secure: Xl0beqeAwhIehTwKb6QYw/vEJgCpK3VveJsE8+iZfPGW1fxLQGu0wr8t54Grwwt1G3+AyEoOCfWB17NpZwFi5yrCqHlc0RLqgTz6wFyGUsgm2MVPeC6DHOW/MEVllMRv1XiVPkUUk3e6CHF/+1DTb0FQ0mgrZBJUfviMskfAt3E=
  - secure: XvWs5z+nlbXSZFrT5NlkbnBezDDkOpbZdhIc+YKNARcGLHOcvaVGlTSuuWV8RJt9/7lTcrwoqj/ecdAAs8VNqobI0h9ql7qpZohKQ9w7Hm+o77/HlEpu6uvhBrfzyh36EAtBYu1CC52SZYKhKHa4TE3AJzX3UBcQkW3iWH2E1UE=
  - secure: i0vxAayaRvkhggXkBH7XOvfUQ7yicU97AROB1VsPe1Y4J78sT9dYwPb3Tqu3x2ORNfuT2Ij9FKH+3AdnIz+VLwjCAhvU+VNosWQtem/c5/xAXVJqiWAWeT0yCJI62/9YK7asxFyXOs53U9OWQqCVhqodKPB8gdR+qNkMdntMmnE=
  - secure: m3KFR3ZzDMr73qQLZ9gUGv9YuoEuehLorinwmzoa1ZZuZSqoIUkX8x6l55N7NjMhPZk9GSTK5yI8LDO6pTmGMK8goVWkZfmXS/pby0dvIaU8mBbnj6j2uEfg/YZQBSONow+nwYsrwGoZkl0pZoBZnVQV03RUQwG7YQv4tJxivgA=
  - secure: k9pNOJsIszD4ZmkREtww/b/PdDldPRePM14UAKXvLhNVSfGcTj5Li1E4UB5IuAXOF1i/pMVDP4qcLGYA6rtSFiQT1iMR3nFII4M71xQ5puk2g1mnkAMyGB8EkS7div+hV/lMPyHnaHblu+39YeBW9Fm+2ZDtdiAItxFc7Ck7a5o=
  - secure: D1HKVNF0Go3SKFkRC5GgjC0NzDxGCtBp9/P9hpj75rHpfoHQIOnShdGq5Br06W8lN5B6e036ts9xFVYnymFnbPxIowqh8cGf0Tsrm+ocjeLgHJW5nIKLJBPkqMqbYPGxAzo8sv1oYSDnCTiRi4pJWLSGARsEVTGMGxy/33D0HlA=
  - secure: DbBzrik9ad3v70+YXkzm7DQKPX+kmQIyWUc31NJ1aZNzfAP/w+qSoNWdr/QPIKIWvOT4hOLTZaD597HhiqZRENmEunw0FjjMpNbeWwH89LaA5bUR4exg99Kxja1XBNHOTKfYRGJFtPX6jEGj67t6ZBDRPGsHr6mX/uf9psY8EJs=
  - secure: ZL9+eIPFV6WQFwfyTp5Agz9ourq1inbSfsELcfws2f0IfoqdSobYMFivZtFPceNB9RUU6NxQKGopGpAJ5C1mXbDMuQMoEJSnDWrNAMSckMyxCxwCSImfE4QC8Uci5ClkS2AooQLcOHryghlmXy8L+N3xQZ0up239V6hbAhDro/0=
  - secure: Lathpj+Lvx4RM9Rbyrf6HjQceRoe9p7Qv3tix2ypqfGowGtf3ALJCHqlSpvReQTnker232qYlO5YnwIJNJ6ul3UxplRqQ7hYUd/a4MQp3vWYuCsUNEpmxquf6aqTz24yg44pt5v5v6w1Lx7mRlzfi5cqZ3p1UaMZRhiAx/XPRbs=
  - secure: Z7QjPSTaL3bhd7d2x+JSMtw+s4Dt/alJRgm0gPpqW6juCItemcKyBhvJpCcShIaT6FAPRGySWVh0kioV67oKpXU6422Gs0Cv99bEPVUAzSVLYNjKyuKhZNeMTg4Q6OBMxKkU0QzOCczxqNlCCXLfjKPu6zizz9szTBfMAntAsJU=
  - secure: bCl4I8Fz7ubfS7juiJVIGQsFZ0ibszG6RAfnv/wcVJNBLYKDe7FENFax21uHRkmut49S/9BKrDUTG4CDleH5IYxvc4/TJFNJHODYajKfESRWa8+pOmwOIa/35oq8n1Te+frzAR6eXTUzak2gvW9gu4YBZ7iRWNznbf2jIpAB99o=
matrix:
- KITCHEN_INSTANCE='default-debian-7-0-x64'
- KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: SbuUTxDVmmBe0ZPqCap5svi/5vAvbatgHNP40GLj7+Mak7/aFDV93XTvfga310OwuIKeEF5HTNv0JSNPJ3jCNpezwTmzIDS9TTZTNe8b6QnkHv1qVMEnG578eW5wVADd3ZX6NJFSayl5PFtwSYNs0XHurkyrTwp7PX6b1u1RNGQ=
