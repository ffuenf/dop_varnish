language: ruby
sudo: false
bundler_args: "--without kitchen_vagrant --without development"
rvm:
- 2.2.1
before_install:
- echo -n $DO_KEY_CHUNK_{0..30} >> ~/.ssh/id_do.base64
- cat ~/.ssh/id_do.base64 | tr -d ' ' | base64 --decode > ~/.ssh/id_rsa
- chmod 600 ~/.ssh/id_rsa
- echo -e "Host github.com\n\tStrictHostKeyChecking no\n" >> ~/.ssh/config
script:
- bundle exec rubocop
- bundle exec foodcritic -f any .
- bundle exec kitchen test $KITCHEN_INSTANCE
env:
  global:
  - KITCHEN_YAML=.kitchen.cloud.yml
  - secure: ipj6Etmlw5yKrgjF9vMy7STYzd6MT1Sa4Ukgpj4lI5hjqKqClUzqm9Kf1t4PD9qD+81egyZfvgAIshIPCctPw8KgOCbIXXk496AIyD+fYq9WhaGbITRQcue3pMRZPcaN1PEG1O4KJMZPKgA6YrWUqMnrNYihdNLshbr3nZBm6FQ=
  - secure: A973oY8lWsfGzwsuW/1wj7K5QnVEngj/rUolilWt/ySmGyEDePFKkWPKvl5NcgiG/aIiiNrr6NMRbXl2V2HIVVM8F6442d1qsG4JNrnZr6dHMin5tUCJbznvePy1+LsEU/oQ0s/7EXGcNe+oB1BOqkJWLqfK55z9nEe09ruPl00=
  - secure: T+HcGQgsaBh10V+NBaWfrUoBZZpKmRnLvppm17++uZgoHCBolOlDZQw4b+kzWDIBHn74vjs4riN9jPU5BC7rKHpUPZVMm97f99YpQyCSHlnjS2K/rQvbVElXJyTpMJtBEWSVPzQGRjMtnm/MRT0wKij80b1cxRJAXFs/RhbnSMI=
  - secure: E0QeXe3T/LodZPHfKzLCDzCwodJ4I3EpiuJjBc05n0PcZE16GwrzhlV14du8ek7l3De7g7jOQXemLGpJoAckPlrbonkdpw6a9Z8pamPvspoKitsEYylq2u0JewKlFiFEpWpJQbX58JySDSUKNKSjIACcPMrvFWs6RP4MJj3XlCk=
  - secure: LoAhkpGEatRwnbt/SPwfy1P0gfJCo+SaUBoBpiA6ewu0MTL1A3UqRvXbmWHAktKZDECCTtMaKUoQvCvsO8AQ04RUBkG9V/DYWsqdbc3/QvuF4BY8xdt36vx519ujXsnSlHzpMeLyadJnlzX2fvFv2vfbuNOAho3Qz2d/Kvhdn34=
  - secure: Px1RcuXIpCFBUbmQg8DxOBUg5EwKRSxVBDYgeCu+kr78dda6oMyEzX3K2cKrAZ30UKoznPeFsPQG5VIfiv9sIMHwgVfG3knYApyF++g+zz1Z8+ucaXLRyT3/CCKfqOwZyvx0+cGxlj6m3sYqjHQu4UMRLnKTP9OFEDrZ7v8Mq/g=
  - secure: YbHq9YeW+Of5+ib5gAP9XNZGKu2PjZdVAY02r4LF38EBxsecFfLQkcrVzWVFeOGetBxxBq9n7IGPIMf4fEEuXYizFr1yjLbOpT9dWVSnAhK8bhAgWiOR8aWti/ZEewCZoDAT3etzakXdmpj8XY2SM3tqpvj7QWphhbbcHxBZGAc=
  - secure: MsZOAkqP3s4LA9rcAfs9e6ENYHc1itkZueuHGw8nX9d9Jmni8IhDBmTXBGluTL+GfjfQpGW51P48mGWkLy5oyInP0LxXZtodivBLc0XI1DpEHRkeDy1uTDXGJXqOC14zCQL85dLODT6pRsPl/z99L8usOc4gjRWGDuBu+ROA2Uk=
  - secure: BA7LYcW+7BF1JS2Hj3qJZza/G3KPyp7HNXgVKpMAdqJuqd73ERlHm9IVxM1LMCV9LB++r2rPvFl0NDlMx8uR0OHOKVmiMoT83t6zpAJienxhIOSyCmX3frgkYDjTvFb7FwvGJLsS2l3Ue1VqV7PoJfT3ROymfkDlzo/EivPOKD8=
  - secure: Te3LgZuRQ3lRBafH+Dw0DJKZ4B59z94/97vT9dXpQM4qyemKTyfBX5uMzYVpLrSM+Lt9Dqd8ZWcwUpd/2KsPp4Ngg3hFLncMUem05YMLlXb+kIkFivfYVe3yV1g70OZUr8gCyZytTumXBuoJHrTvO7h9UrrTMccIj6bb11x3Iwo=
  - secure: elXO6ZnVjBN6PVo74VZptle3EkiTpaQeO2ZIw081wR5VkTzdJ4JfF4u+YDIr1+d4Dy9ObDdM8uHfwa9yHYfWLBZQC9B5ePomOGTw/qq9ev87hDpoNDbUr4vpLjAt1KTNj6L5li3n8pDMYrnGZUcRnULQabzSrFm9mseRXg00XNg=
  - secure: eiOLcOQdllnOqA3FLFaTB/X2m6WuDWLGao9gQSXg7CM73vJpm1YXcbJJwW9sWG8nvzSuoqbTuee+6pEe/z/ZKHb2spy4WmYiEPQyYqjqBNYWtUYAwKsBVHAzIlqZlYq8IAnNwADLbiKOCvMBwMHaRlRJ24c7cOyqvoiz7t57ZHU=
  - secure: dZ9JQEQkyvCkg7nf9VwVVNdLBqidZpQDYF7pi8YmxRi66YjbGnBI+z8cPlCeB8MfeS1xofpLg8RN2gkhNxwyYsanfTB98sKQxmXtKF0IfPXtDY8Jx29xUScNk08dhai9821MuFJuq/Z8NoGhdKPx0ZUSHwASU8whWVAbdI+hTx0=
  - secure: a8GFnBGKpgVKu1WoEJ9wYGqV1Q/jRXTtrxbNaEI5Od3o2y/Q84DBSaU8KK1Wm0EI2sQfXVJJw3WT4pdLC1EHqj4nw2YZmkNNfIKNNqvVhhEy6RPCOW/jejqozjTw/XPUOP5SAmzyIWbuh59hbnxnwUaWyjFUomcbPmWwdcqzEo8=
  - secure: jZU3lPEqcn/DcxZzaZft41sy6HfxAjKJMgj4Ka1o8889SORn9GF+vwQYmB8c4EakjjlwiAbVpWRN/kC/AVdzAh6chPPlenx6Tj2Wm7PkKrFPe+kSQtB4SRsLVWNQjzb/PSFrDr6ZvXCIFiwcVyTMOPN5D3Czd7GmEXH/AfhnZtE=
  - secure: n5z+1CuWG6Ut/t3baZPKSBlk4BM/sdkqOzUYS/5xpdx4mAKKg3jhWIYFrcN85sXZWuSeEF5t6ym5rlJ1T0L0Ri55NVrf/x4LUgfLxabZESJWvzFKML6EqWnB6aSK9VYGXauI84JBXuC35MavtIeJHhJ5cY9UVFyZLJLBhw4/CvE=
  - secure: MmdrHl6re9345HUpRKPt95a2Lo4fYYKE46UbhvTCGiCFOQ/waexWALvZSjVKQFoUHpi2qOg3PA8XCOMRodEhhRs+WCBXua3s2vysIY/jqae4oalHRY/iGat4zCPFnZwRzNl2Py6DFMU3STfOeLNPIn/C2HE68h9RrESMTswVrdc=
  - secure: HdXFlyeZYxk9hB8KbGlTiXP1627cEe4RgHPZIttVX03FGCGqDY+DTPnOUb7kuZ99wZKRMOfDTQhglNu2qvsXyc+wmM8Yx0Hdrcpz4sefENvB6uwRNCGauP5iEly3BsOAbHCC0zcjZ56RK9diAfPOPDJJ27N2VEa6hzfQ3sTpSow=
  - secure: kP8y/Ilf3Tc4K3MngkjPQiQDtVhbksYMqIaFOrDHaMr1I4zhGl9so4Yw2JP4GeFzkph4MzQJbPPqPPub3NTKS0Pz7ayOGu4ZgSBqlNKKKhmcXl+pdTl1cCXiBUpmOm8ruNN8gIWk4BSjHZA4ONqK9M4V3YuQa94nCFmwIaoAdsc=
  - secure: SSTO+lEUf80l5zCoq0qq0dHXO/R0TGqoN2TOGEsf9wJnkfZ8EFT5I3FRNr6m1kdY7BNTDy7tVbEKEuxPtaBnz0P6+fQfX/yy8HreneDjwsPu6FBCoHc3TA+Rqkns3LBP9N5KN93tCxZZdIfe6T9TgfKrntlCoDwxRb+CeHpwqkY=
  - secure: cnHuDlT9gWehEbHHQpyA5Jb26ttMPtAsUlR6tN/CRHkC8anCqb2u3hG7JzGWw5fIriGCemWFssaS7eHV4Z3HNfQRxqbswaQqPcgNIoGrFBteN1O1/FGrCkdLui/8aTSiWAxgG8VBcwiUddhLFW7TeksrF9hPdcCgEq2qfzAd49M=
  - secure: YKe0A+nhJBNoa1W2VOgh8Vj+rS5I6KNsqtbGl1Mlr5lOuTR0hk7N2KG54diQFh5Ls/OgOyut+o9tBBC2z7q7zw3HmH8iNsARYZhE9qZRrISAT2YGE7SIMc9S54pjeARv31T7B0evrCZ0CokMJ/2UEbt3etE7UlpRaFI0M1dmG5A=
  - secure: gPqRdX7ngJerbNpP47GuoM6TEyotT/F5PxCT8S521iETwz7N0lrLN222YI5bV2QCt4UfBZBI2VvrDaOCbql4HPJJr/KYWVnyoB7GKT1pZDul20VJVskej5Sx0ioZGd/QpVYDnkq2bcRDhT2NRkr+7IRAZDnOxCRArxSb/vWNPow=
  - secure: mOdPO18Jp5JiOgdeztlV/MBjwlvIWEO2t31pYX0nnGc94Gn3wwmiLgZIRP/CExFO20RwSZXVk1Kd/dS4e20f7OQxLKZXpxk8P7VlCOMnBKpwXn1ma1J3NNcAItkJUbqBI7WrP/I59vH6J1xdzJLZP3cReDa6ubkia99xSeM0b/o=
  - secure: I1vbrFDB+GtjpAhQ8MQGFER2kGErmP5jLHUlU25C2H+h8IqDUFr22tfX12E4FFzyjwuc5BaXk3yKK/n+MbnfekFGw8ECocF9uVVq889nygDcOVzjqq2SV7PPN0NI+HPXB/TarjkwzqevWckqDdZhFqSar0ZXV6XovnLqGG3cT3A=
  - secure: Rtilh59EuBcVUYz3579YyOQTSdWSvhSsOCvk9CxDsZwCn0jKgnUtaBWloiOoYw0H2Bjt+B6lTrBhJ/ACWZstrETRMyvHTSGcMyJWlzQ9WbRSc3c9NU5S8B7H+0VqVOXICDWZ0CyNtA2Q4U3DgLU61j779wIhRQjnjDUrfXR8QfI=
  - secure: PFY9UczJT4TqLL7In44vcX8OHKbzdGVUo4BzXcu2vHhpFbyCddsQfw3IPIaP5WtXOfYP0PQjNKL2NIwvBm2sD135c4T28LmGfylWwHPSnipjEouiEEhLsR6fbCHe43s+p5ZGUTTkAdObJo1Gux0da9X5F9HQasHRKJ3YGfPA6+s=
  - secure: YUeiWGWZiC8l08isXF7GBdIBtrXEHLQVW/PC9SyveDAGm9bsRCcg3txx5yJLZ3GaOM5VfIzJDwnUUHduunVVJmpdpZDTfU8ng42mbc7CLfLswZqGIf0Ch2HA9PXZqBnumt0B+ykSPO4G+EkhdHkwUTvx7UwWCe1AmeAV3/rV8GI=
  - secure: VW3kE0lPjtxLa4WC3LwqlMKZWTMXPMT7hM5Etx22P1QMwRv7pX5eObfbM6S5oSzcQ+1ud4k4tgMstB5iAm8w8x2OQbTP9yOiFYIrfb4w2R0qwrVQuYvpOvxfo9ssdB/rEpVeR837BDoZg5Y86B/PbNKyM9fclslXg2KjKaS0OCs=
  - secure: UxC1NLbIIPf2RZPoCWTmfQRAdbEe0IO02rU7kdAyYoyPToPt/b1oFvPgoXaQi3pW5bEdJtbHDH7xJsPiDhfdGrtUZ8g2NWAdNp3EP3gTxZnTq5IVqeLaU8rPWEkMnM+emn7mwzUF8GCcRPUWcg6GQGAblZ+KmFrgid+JPj7o4a4=
  - secure: Gg43zCp2JaYZinknkKs0dRWydIcR49pTkUpmUovSk5ukMnKnpheDBJFVXbMPWyZb13dqbIkJr8/f3PPGAMSYSfA7L3SOi+6R+akDVUG531PXWJhQ1h1M0+sx7g9gy4wdI2GYfZe2BG2uyw9PjdbxjCv9ybOyN3payX40d5/8aEU=
  - secure: BfdPzK3NDi4e3yVfjKGw8Bt4TBlYbvfJ1XCU5ApT2DVJNk1Yt6V2HTk7LwMcRygc5MFnyhpymC0V28aPzjysW0tbtWvri/midWSW6Wp7Q3ncAPqWSPhqsUGOtXG/iiU8mIdNdIZ8CYrLPxYH7CUOnMKOgIp1JDyBL5WsLRNAOCE=
matrix:
- KITCHEN_INSTANCE='default-debian-7-0-x64'
- KITCHEN_INSTANCE='default-ubuntu-14-04-x64'
notifications:
  slack:
    secure: QOnXeSwFeli44MbOT3GznCjS8aSD3h9dNJvIMgjKrrmeDRRql5LZB0Mj0uDj3MtxwoVnArrgqTMAwidHUj4TWOF9DIJjwANjq3f3voj6W8B2+caX2n8MQBW+E+8K1AN3h1zCt+KO3TnNOnHGzgsodis9kGxROi4FqEIhcaeop1A=
